{"ast":null,"code":"import _slicedToArray from\"/Users/user/Dokumente/React/imdb_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,createContext}from\"react\";import axios from\"axios\";// Components\nimport{PaginationBar}from\"./components/Pagination\";import{VideoSection}from'./components/VideoSection';import{SearchBar}from'./components/SearchBar';import{CardList}from\"./components/CardList\";var apiKey=\"d161df73b66b9d1b527d3526c891aeca\";//temporary\nvar baseUrl=\"https://api.themoviedb.org/3/search/movie\";// We are changing now to Context Consept\nexport var MovieContext=/*#__PURE__*/createContext();function Movie(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movieData=_useState2[0],setMovieData=_useState2[1];var _useState3=useState('Live'),_useState4=_slicedToArray(_useState3,2),inputData=_useState4[0],setInputData=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),countPage=_useState6[0],setCountPage=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var handleChange=function handleChange(event,a){setPage(a);console.log(event);};useEffect(function(){axios.get(baseUrl,{params:{api_key:apiKey,query:inputData,page:page}}).then(function(res){var _res$data,_res$data2,_res$data3;setMovieData(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.results);if((res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.total_pages)>=5){setCountPage(5);}else setCountPage(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.total_pages);}).catch().finally();},[inputData,page]);return/*#__PURE__*/_jsxs(MovieContext.Provider,{value:{setInputData:setInputData,setPage:setPage,movieData:movieData,countPage:countPage,page:page,handleChange:handleChange},children:[/*#__PURE__*/_jsx(VideoSection,{}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(PaginationBar,{}),/*#__PURE__*/_jsx(CardList,{})]});}export default Movie;","map":{"version":3,"sources":["/Users/user/Dokumente/React/imdb_project/src/Pages/Movie/Movie.js"],"names":["React","useState","useEffect","createContext","axios","PaginationBar","VideoSection","SearchBar","CardList","apiKey","baseUrl","MovieContext","Movie","props","movieData","setMovieData","inputData","setInputData","countPage","setCountPage","page","setPage","handleChange","event","a","console","log","get","params","api_key","query","then","res","data","results","total_pages","catch","finally"],"mappings":"uPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,aAArC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA;AACA,OAASC,aAAT,KAA8B,yBAA9B,CACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAAQC,QAAR,KAAuB,uBAAvB,CAIA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAAmD;AACnD,GAAMC,CAAAA,OAAO,CAAG,2CAAhB,CAEA;AACA,MAAO,IAAMC,CAAAA,YAAY,cAAIR,aAAa,EAAnC,CAEP,QAASS,CAAAA,KAAT,CAAeC,KAAf,CAAsB,eACcZ,QAAQ,CAAC,EAAD,CADtB,wCACba,SADa,eACFC,YADE,8BAEcd,QAAQ,CAAC,MAAD,CAFtB,yCAEbe,SAFa,eAEFC,YAFE,8BAGchB,QAAQ,CAAC,CAAD,CAHtB,yCAGbiB,SAHa,eAGFC,YAHE,8BAIIlB,QAAQ,CAAC,CAAD,CAJZ,yCAIbmB,IAJa,eAIPC,OAJO,eAOpB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAEC,KAAF,CAASC,CAAT,CAAe,CAClCH,OAAO,CAACG,CAAD,CAAP,CACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACD,CAHD,CAKArB,SAAS,CAAC,UAAM,CACdE,KAAK,CAACuB,GAAN,CACIjB,OADJ,CACa,CAACkB,MAAM,CAAE,CAClBC,OAAO,CAAEpB,MADS,CAElBqB,KAAK,CAAEd,SAFW,CAGlBI,IAAI,CAAEA,IAHY,CAAT,CADb,EAOGW,IAPH,CAOQ,SAACC,GAAD,CAAU,qCACdjB,YAAY,CAACiB,GAAD,SAACA,GAAD,4BAACA,GAAG,CAAEC,IAAN,oCAAC,UAAWC,OAAZ,CAAZ,CACA,GAAI,CAAAF,GAAG,OAAH,EAAAA,GAAG,SAAH,oBAAAA,GAAG,CAAEC,IAAL,gDAAWE,WAAX,GAAwB,CAA5B,CAA+B,CAC7BhB,YAAY,CAAC,CAAD,CAAZ,CACD,CAFD,IAGAA,CAAAA,YAAY,CAACa,GAAD,SAACA,GAAD,6BAACA,GAAG,CAAEC,IAAN,qCAAC,WAAWE,WAAZ,CAAZ,CACD,CAbH,EAcGC,KAdH,GAeGC,OAfH,GAgBD,CAjBQ,CAiBN,CAACrB,SAAD,CAAYI,IAAZ,CAjBM,CAAT,CAmBA,mBACE,MAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,CAACH,YAAY,CAAZA,YAAD,CAAeI,OAAO,CAAPA,OAAf,CAAwBP,SAAS,CAATA,SAAxB,CAAmCI,SAAS,CAATA,SAAnC,CAA8CE,IAAI,CAAJA,IAA9C,CAAoDE,YAAY,CAAZA,YAApD,CAA9B,wBACE,KAAC,YAAD,IADF,cAEE,KAAC,SAAD,IAFF,cAGE,KAAC,aAAD,IAHF,cAIE,KAAC,QAAD,IAJF,GADF,CAQD,CACD,cAAeV,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\nimport axios from \"axios\";\n\n\n// Components\nimport { PaginationBar } from \"./components/Pagination\";\nimport { VideoSection } from './components/VideoSection';\nimport { SearchBar } from './components/SearchBar';\nimport {CardList} from \"./components/CardList\";\n\n\n\nconst apiKey = \"d161df73b66b9d1b527d3526c891aeca\"; //temporary\nconst baseUrl = \"https://api.themoviedb.org/3/search/movie\";\n\n// We are changing now to Context Consept\nexport const MovieContext  = createContext();\n\nfunction Movie(props) {\n  const [movieData, setMovieData] = useState([]);\n  const [inputData, setInputData] = useState('Live')\n  const [countPage, setCountPage] = useState(1)\n  const [page, setPage] = useState(1);\n\n\n  const handleChange = ( event, a) => {\n    setPage(a);\n    console.log(event);\n  };\n\n  useEffect(() => {\n    axios.get(\n        baseUrl, {params: {\n        api_key: apiKey,\n        query: inputData,\n        page: page,\n      }\n    })\n      .then((res) =>  {\n        setMovieData(res?.data?.results);\n        if (res?.data?.total_pages>=5) {\n          setCountPage(5);\n        } else \n        setCountPage(res?.data?.total_pages);\n      })\n      .catch()\n      .finally()\n  }, [inputData, page])\n\n  return (\n    <MovieContext.Provider value={{setInputData, setPage, movieData, countPage, page, handleChange}}>\n      <VideoSection />\n      <SearchBar />\n      <PaginationBar/>\n      <CardList/>\n    </MovieContext.Provider>\n  );\n}\nexport default Movie;"]},"metadata":{},"sourceType":"module"}