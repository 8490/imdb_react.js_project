{"ast":null,"code":"import _slicedToArray from\"/Users/user/Dokumente/React/imdb_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,createContext}from\"react\";import axios from\"axios\";// Components\nimport{PaginationBar}from\"./components/Pagination\";import{VideoSection}from'./components/VideoSection';import{SearchBar}from'./components/SearchBar';import{CardList}from\"./components/CardList\";var apiKey=\"d161df73b66b9d1b527d3526c891aeca\";//temporary\nvar baseUrl=\"https://api.themoviedb.org/3/search/tv\";export var TvShowContext=/*#__PURE__*/createContext();function TvShow(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),TvShowData=_useState2[0],setTvShowData=_useState2[1];var _useState3=useState('Jimmy'),_useState4=_slicedToArray(_useState3,2),inputData=_useState4[0],setInputData=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),countPage=_useState6[0],setCountPage=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var handleChange=function handleChange(state,value){setPage(value);};useEffect(function(){axios.get(baseUrl,{params:{api_key:apiKey,query:inputData,page:page,include_adult:false}}).then(function(res){var _res$data,_res$data2,_res$data3;setTvShowData(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.results);if((res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.total_pages)>=5){setCountPage(5);}else setCountPage(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.total_pages);}).catch().finally();},[inputData,page]);return/*#__PURE__*/_jsxs(TvShowContext.Provider,{value:{setInputData:setInputData,setPage:setPage,TvShowData:TvShowData,countPage:countPage,page:page,handleChange:handleChange},children:[/*#__PURE__*/_jsx(VideoSection,{}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(PaginationBar,{}),/*#__PURE__*/_jsx(CardList,{})]});}export default TvShow;","map":{"version":3,"sources":["/Users/user/Dokumente/React/imdb_project/src/Pages/TvShow/TvShow.js"],"names":["React","useState","useEffect","createContext","axios","PaginationBar","VideoSection","SearchBar","CardList","apiKey","baseUrl","TvShowContext","TvShow","props","TvShowData","setTvShowData","inputData","setInputData","countPage","setCountPage","page","setPage","handleChange","state","value","get","params","api_key","query","include_adult","then","res","data","results","total_pages","catch","finally"],"mappings":"uPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,aAArC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA;AACA,OAASC,aAAT,KAA8B,yBAA9B,CACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAAQC,QAAR,KAAuB,uBAAvB,CAGA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAAmD;AACnD,GAAMC,CAAAA,OAAO,CAAG,wCAAhB,CAEA,MAAO,IAAMC,CAAAA,aAAa,cAAIR,aAAa,EAApC,CAEP,QAASS,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,eACeZ,QAAQ,CAAC,EAAD,CADvB,wCACda,UADc,eACFC,aADE,8BAEad,QAAQ,CAAC,OAAD,CAFrB,yCAEde,SAFc,eAEHC,YAFG,8BAGahB,QAAQ,CAAC,CAAD,CAHrB,yCAGdiB,SAHc,eAGHC,YAHG,8BAIGlB,QAAQ,CAAC,CAAD,CAJX,yCAIdmB,IAJc,eAIRC,OAJQ,eAOrB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,KAAR,CAAkB,CACrCH,OAAO,CAACG,KAAD,CAAP,CACD,CAFD,CAIAtB,SAAS,CAAC,UAAM,CACdE,KAAK,CAACqB,GAAN,CACIf,OADJ,CACa,CAACgB,MAAM,CAAE,CAClBC,OAAO,CAAElB,MADS,CAElBmB,KAAK,CAAEZ,SAFW,CAGlBI,IAAI,CAAEA,IAHY,CAIlBS,aAAa,CAAC,KAJI,CAAT,CADb,EAQGC,IARH,CAQQ,SAACC,GAAD,CAAU,qCACdhB,aAAa,CAACgB,GAAD,SAACA,GAAD,4BAACA,GAAG,CAAEC,IAAN,oCAAC,UAAWC,OAAZ,CAAb,CACA,GAAI,CAAAF,GAAG,OAAH,EAAAA,GAAG,SAAH,oBAAAA,GAAG,CAAEC,IAAL,gDAAWE,WAAX,GAAwB,CAA5B,CAA+B,CAC7Bf,YAAY,CAAC,CAAD,CAAZ,CACD,CAFD,IAGAA,CAAAA,YAAY,CAACY,GAAD,SAACA,GAAD,6BAACA,GAAG,CAAEC,IAAN,qCAAC,WAAWE,WAAZ,CAAZ,CACD,CAdH,EAeGC,KAfH,GAgBGC,OAhBH,GAiBD,CAlBQ,CAkBN,CAACpB,SAAD,CAAYI,IAAZ,CAlBM,CAAT,CAoBA,mBACE,MAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAE,CAACH,YAAY,CAAZA,YAAD,CAAeI,OAAO,CAAPA,OAAf,CAAwBP,UAAU,CAAVA,UAAxB,CAAoCI,SAAS,CAATA,SAApC,CAA+CE,IAAI,CAAJA,IAA/C,CAAqDE,YAAY,CAAZA,YAArD,CAA/B,wBACE,KAAC,YAAD,IADF,cAEE,KAAC,SAAD,IAFF,cAGE,KAAC,aAAD,IAHF,cAIE,KAAC,QAAD,IAJF,GADF,CAQD,CACD,cAAeV,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\nimport axios from \"axios\";\n\n\n// Components\nimport { PaginationBar } from \"./components/Pagination\";\nimport { VideoSection } from './components/VideoSection';\nimport { SearchBar } from './components/SearchBar';\nimport {CardList} from \"./components/CardList\";\n\n\nconst apiKey = \"d161df73b66b9d1b527d3526c891aeca\"; //temporary\nconst baseUrl = \"https://api.themoviedb.org/3/search/tv\";\n\nexport const TvShowContext  = createContext();\n\nfunction TvShow(props) {\n  const [TvShowData, setTvShowData] = useState([]);\n  const [inputData, setInputData] = useState('Jimmy')\n  const [countPage, setCountPage] = useState(1)\n  const [page, setPage] = useState(1);\n\n\n  const handleChange = (state, value) => {\n    setPage(value);\n  };\n\n  useEffect(() => {\n    axios.get(\n        baseUrl, {params: {\n        api_key: apiKey,\n        query: inputData,\n        page: page,\n        include_adult:false,\n      }\n    })\n      .then((res) =>  {\n        setTvShowData(res?.data?.results);\n        if (res?.data?.total_pages>=5) {\n          setCountPage(5);\n        } else \n        setCountPage(res?.data?.total_pages);\n      })\n      .catch()\n      .finally()\n  }, [inputData, page])\n\n  return (\n    <TvShowContext.Provider value={{setInputData, setPage, TvShowData, countPage, page, handleChange}}>\n      <VideoSection />\n      <SearchBar />\n      <PaginationBar/>\n      <CardList/>\n    </TvShowContext.Provider>\n  );\n}\nexport default TvShow;"]},"metadata":{},"sourceType":"module"}